<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <script charset="utf-8" src="https://d3js.org/d3.v4.min.js"></script>
    <script charset="utf-8" src="https://cdnjs.cloudflare.com/ajax/libs/dimple/2.3.0/dimple.latest.min.js"></script>
    <style>
        #chartContainer {
            width: 700px;
            margin: auto;
            margin-top: -5px; 
            margin-left: -5px;
            margin-bottom: -10px;
            }


        #charttitle {
            font: bold 15px  Verdana, sans-serif;
        }

    </style>
</head>

<body>

    
    <div id="chartContainer">
        <p>1111</p>
    </div>

</body>

<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

<script>
        var margin = {top: 10, right: 100, bottom: 30, left: 30},
            width = 1000 - margin.left - margin.right,
            height = 500 - margin.top - margin.bottom;

            document.getElementById('chartContainer').innerHTML = ""
            d3.csv("/glacier_map/all_cleaned.csv", function(glacier_annual) {
                console.log(glacier_annual[0])
                //var filter = new Array()
                //for(var i = 0; i < glacier_annual.length; i++) {            
                //var test = document.createElement("option");
                //    if (glacier_annual[i].year == years[selectedyear] & glacier_annual[i].month == months[selectedmonth]){
                //        test = glacier_annual[i]
                //        filter.push(test)
                //   }
                //}
            var index = 'Global' 
            var filter = new Array()
            var test = document.createElement("option");
            for (var i = 0; i < glacier_annual.length; i++){
                if (glacier_annual[i].Region == index){
                    test = glacier_annual[i]
                    filter.push(test)
                }
            }

            //console.log()


                
                var svg = dimple.newSvg("#chartContainer", width, height); 
                var myChart = new dimple.chart(svg, filter);  
                myChart.defaultColors = [
                        new dimple.color("#72ae53")
                ];

                var x = myChart.addCategoryAxis("x", "year");  
                x.title = "";


                var y = myChart.addMeasureAxis("y", "Mean elevation change rate (m yr-1)"); 
                y.title = "";
                y.ticks = 6;

                var s = myChart.addSeries(null, dimple.plot.line); 

                myChart.draw(500); 

                svg.selectAll("path.domain").style("stroke", "#CCC"); 
                svg.selectAll("g.tick line").style("stroke", "#CCC");

                
                })
            

</script>
</html>